<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Nota Deseada</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            display: flex;
            min-height: 100vh;
            background-color: #f9f9f9;
        }

        /* Menú lateral */
        .sidebar {
            width: 250px;
            background: linear-gradient(to bottom, #ff7eb9, #ff65a3);
            color: white;
            padding: 20px;
            box-shadow: 3px 0 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .logo {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .logo h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .logo p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .menu-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .menu-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .menu-item.active {
            background-color: rgba(255, 255, 255, 0.2);
            font-weight: bold;
        }

        .menu-item i {
            margin-right: 15px;
            font-size: 1.2rem;
        }

        /* Contenido principal */
        .main-content {
            flex: 1;
            margin-left: 250px;
            padding: 30px;
            max-width: 1000px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }

        header h1 {
            color: #333;
            font-size: 2rem;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-info img {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid #ff65a3;
        }

        /* Sección de chuleo de notas */
        .checklist-section {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .section-title {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            color: #333;
        }

        .section-title i {
            color: #ff65a3;
            margin-right: 10px;
            font-size: 1.5rem;
        }

        .checklist {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            background-color: #f8f8f8;
            border-radius: 8px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .checkbox-item:hover {
            background-color: #f0f0f0;
            transform: translateY(-2px);
        }

        .checkbox-item input {
            margin-right: 10px;
            transform: scale(1.2);
            accent-color: #ff65a3;
        }

        .checkbox-item label {
            cursor: pointer;
            font-weight: 500;
            color: #444;
        }

        /* Calculadora */
        .calculator {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        .input-group label {
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
            display: flex;
            align-items: center;
        }

        .input-group label i {
            margin-right: 8px;
            color: #ff65a3;
        }

        .input-group input {
            padding: 12px 15px;
            border: 2px solid #eee;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            border-color: #ff65a3;
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 101, 163, 0.1);
        }

        .input-group input:disabled {
            background-color: #f5f5f5;
            cursor: not-allowed;
        }

        .buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background-color: #ff65a3;
            color: white;
        }

        .btn-primary:hover {
            background-color: #ff4d94;
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(255, 101, 163, 0.3);
        }

        .btn-secondary {
            background-color: #f0f0f0;
            color: #555;
        }

        .btn-secondary:hover {
            background-color: #e0e0e0;
            transform: translateY(-2px);
        }

        .result {
            background-color: #f9f0f5;
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            border-left: 5px solid #ff65a3;
        }

        .result h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }

        .result-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ff65a3;
            margin: 15px 0;
        }

        .result-message {
            color: #666;
            font-size: 1.1rem;
            line-height: 1.5;
        }

        .info-box {
            background-color: #e8f4fc;
            border-radius: 10px;
            padding: 20px;
            margin-top: 25px;
            border-left: 5px solid #4dabf7;
        }

        .info-box h4 {
            color: #1c7ed6;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .info-box p {
            color: #555;
            line-height: 1.6;
        }

        .code-snippet {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            margin-top: 25px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .code-title {
            color: #fff;
            margin-bottom: 10px;
            font-weight: bold;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                width: 220px;
            }
            
            .main-content {
                margin-left: 220px;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                margin-bottom: 20px;
            }
            
            .main-content {
                margin-left: 0;
                padding: 20px;
            }
            
            body {
                flex-direction: column;
            }
            
            .checklist {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .input-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Animación de resultado */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 0.5s ease-in-out;
        }
    </style>
</head>
<body>
    <!-- Menú lateral -->
    <div class="sidebar">
        <div class="logo">
            <h1><i class="fas fa-calculator"></i> NotaTool</h1>
            <p>Calcula tu nota necesaria</p>
        </div>
        
        <div class="menu-item active">
            <i class="fas fa-home"></i>
            <span>Calculadora</span>
        </div>
        
        <div class="menu-item">
            <i class="fas fa-chart-line"></i>
            <span>Estadísticas</span>
        </div>
        
        <div class="menu-item">
            <i class="fas fa-history"></i>
            <span>Historial</span>
        </div>
        
        <div class="menu-item">
            <i class="fas fa-cog"></i>
            <span>Configuración</span>
        </div>
        
        <div class="menu-item">
            <i class="fas fa-question-circle"></i>
            <span>Ayuda</span>
        </div>
        
        <div class="menu-item">
            <i class="fas fa-sign-out-alt"></i>
            <span>Cerrar sesión</span>
        </div>
    </div>

    <!-- Contenido principal -->
    <div class="main-content">
        <header>
            <h1>Calculadora de Nota Deseada</h1>
            <div class="user-info">
                <span>Estudiante</span>
                <img src="https://ui-avatars.com/api/?name=Estudiante&background=ff65a3&color=fff&size=128" alt="Usuario">
            </div>
        </header>

        <!-- Sección de chuleo de notas -->
        <section class="checklist-section">
            <div class="section-title">
                <i class="fas fa-check-square"></i>
                <h2>Selecciona las notas que ya tienes</h2>
            </div>
            <div class="checklist">
                <div class="checkbox-item">
                    <input type="checkbox" id="q1-check" checked>
                    <label for="q1-check">Quiz 1</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="p1-check" checked>
                    <label for="p1-check">Parcial 1</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="q2-check" checked>
                    <label for="q2-check">Quiz 2</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="p2-check">
                    <label for="p2-check">Parcial 2</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="q3-check">
                    <label for="q3-check">Quiz 3</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="p3-check">
                    <label for="p3-check">Parcial 3</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="q4-check">
                    <label for="q4-check">Quiz 4</label>
                </div>
            </div>
        </section>

        <!-- Calculadora -->
        <section class="calculator">
            <div class="section-title">
                <i class="fas fa-calculator"></i>
                <h2>Calcula la nota que necesitas</h2>
            </div>
            
            <div class="input-grid">
                <div class="input-group">
                    <label for="q1"><i class="fas fa-pencil-alt"></i> Nota del Quiz 1 (0-5)</label>
                    <input type="number" id="q1" min="0" max="5" step="0.01" value="4.0">
                </div>
                
                <div class="input-group">
                    <label for="p1"><i class="fas fa-file-alt"></i> Nota del Parcial 1 (0-5)</label>
                    <input type="number" id="p1" min="0" max="5" step="0.01" value="3.8">
                </div>
                
                <div class="input-group">
                    <label for="q2"><i class="fas fa-pencil-alt"></i> Nota del Quiz 2 (0-5)</label>
                    <input type="number" id="q2" min="0" max="5" step="0.01" value="4.2">
                </div>
                
                <div class="input-group">
                    <label for="p2"><i class="fas fa-file-alt"></i> Nota del Parcial 2 (0-5)</label>
                    <input type="number" id="p2" min="0" max="5" step="0.01" value="0">
                </div>
                
                <div class="input-group">
                    <label for="q3"><i class="fas fa-pencil-alt"></i> Nota del Quiz 3 (0-5)</label>
                    <input type="number" id="q3" min="0" max="5" step="0.01" value="0">
                </div>
                
                <div class="input-group">
                    <label for="p3"><i class="fas fa-file-alt"></i> Nota del Parcial 3 (0-5)</label>
                    <input type="number" id="p3" min="0" max="5" step="0.01" value="0">
                </div>
                
                <div class="input-group">
                    <label for="q4"><i class="fas fa-pencil-alt"></i> Nota del Quiz 4 (0-5)</label>
                    <input type="number" id="q4" min="0" max="5" step="0.01" value="0">
                </div>
            </div>
            
            <div class="buttons">
                <button class="btn btn-primary" id="calculate-btn">
                    <i class="fas fa-calculator"></i> Calcular Nota Necesaria
                </button>
                <button class="btn btn-secondary" id="reset-btn">
                    <i class="fas fa-redo"></i> Reiniciar
                </button>
            </div>
            
            <div class="result" id="result-section" style="display: none;">
                <h3>Nota necesaria en el último parcial</h3>
                <div class="result-value" id="result-value">0.000</div>
                <p class="result-message" id="result-message"></p>
            </div>
            
            <div class="info-box">
                <h4><i class="fas fa-info-circle"></i> ¿Cómo funciona el cálculo?</h4>
                <p>La fórmula utilizada es: <strong>Xn = 3 - (Q1+Q2+Q3+Q4)*0.05 - (P1+P2+P3)*0.20</strong><br>
                Donde Xn se divide entre 0.20 para obtener la nota necesaria en el último parcial. Cada quiz vale 5% y cada parcial 20% (excepto el último que es el que calculamos).</p>
            </div>
            
            <div class="code-snippet">
                <div class="code-title">Código Python equivalente:</div>
                <pre><code>
print("========Nota deseada========")
Q1 = float(input("Ingresa la nota del primer quiz: "))
P1 = float(input("Ingresa la nota del primer parcial: "))
Q2 = float(input("Ingresa la nota del segundo quiz: "))
P2 = float(input("Ingresa la nota del segundo parcial: "))
Q3 = float(input("Ingresa la nota del tercer quiz: "))
P3 = float(input("Ingresa la nota del tercer parcial: "))
Q4 = float(input("Ingresa la nota del cuarto quiz: "))

Xn = 3 - (Q1+Q2+Q3+Q4)*0.05 - (P1+P2+P3)*0.20
Xd = 0.20
X = Xn/Xd

print(f"La nota deseada es: {X:.3}")
                </code></pre>
            </div>
        </section>
    </div>

    <script>
        // Referencias a elementos del DOM
        const checkboxes = document.querySelectorAll('.checkbox-item input');
        const inputs = document.querySelectorAll('.input-group input');
        const calculateBtn = document.getElementById('calculate-btn');
        const resetBtn = document.getElementById('reset-btn');
        const resultSection = document.getElementById('result-section');
        const resultValue = document.getElementById('result-value');
        const resultMessage = document.getElementById('result-message');
        
        // Inicializar estado de los inputs basado en checkboxes
        function initializeInputs() {
            checkboxes.forEach(checkbox => {
                const inputId = checkbox.id.replace('-check', '');
                const input = document.getElementById(inputId);
                
                // Actualizar estado del input basado en checkbox
                input.disabled = !checkbox.checked;
                
                // Si está deshabilitado, establecer valor en 0
                if (input.disabled) {
                    input.value = 0;
                }
                
                // Agregar evento al checkbox
                checkbox.addEventListener('change', function() {
                    input.disabled = !this.checked;
                    
                    if (input.disabled) {
                        input.value = 0;
                    } else {
                        // Restaurar valor por defecto si es 0
                        if (input.value == 0) {
                            const defaults = {
                                q1: 4.0, p1: 3.8, q2: 4.2, 
                                p2: 3.5, q3: 4.0, p3: 3.5, q4: 4.0
                            };
                            input.value = defaults[inputId] || 0;
                        }
                    }
                });
            });
        }
        
        // Función para calcular la nota necesaria
        function calculateRequiredGrade() {
            // Obtener valores de los inputs
            const q1 = parseFloat(document.getElementById('q1').value) || 0;
            const p1 = parseFloat(document.getElementById('p1').value) || 0;
            const q2 = parseFloat(document.getElementById('q2').value) || 0;
            const p2 = parseFloat(document.getElementById('p2').value) || 0;
            const q3 = parseFloat(document.getElementById('q3').value) || 0;
            const p3 = parseFloat(document.getElementById('p3').value) || 0;
            const q4 = parseFloat(document.getElementById('q4').value) || 0;
            
            // Validar que las notas estén entre 0 y 5
            const grades = [q1, p1, q2, p2, q3, p3, q4];
            const invalidGrades = grades.filter(grade => grade < 0 || grade > 5);
            
            if (invalidGrades.length > 0) {
                alert("Por favor, ingresa notas válidas entre 0 y 5.");
                return;
            }
            
            // Calcular usando la fórmula proporcionada
            const Xn = 3 - (q1 + q2 + q3 + q4) * 0.05 - (p1 + p2 + p3) * 0.20;
            const Xd = 0.20;
            const X = Xn / Xd;
            
            // Mostrar resultado
            resultValue.textContent = X.toFixed(3);
            resultValue.classList.add('pulse');
            
            // Determinar mensaje según el resultado
            let message = "";
            if (X > 5) {
                message = "¡Necesitas más de 5.0! Considera mejorar tus notas anteriores o revisar el sistema de evaluación.";
            } else if (X > 4.5) {
                message = "Necesitas una excelente nota. ¡Prepárate bien para el último parcial!";
            } else if (X > 3.5) {
                message = "Es alcanzable con un buen esfuerzo. ¡Tú puedes!";
            } else if (X > 2.5) {
                message = "Estás en buen camino. Con un esfuerzo moderado puedes lograrlo.";
            } else if (X > 0) {
                message = "¡Vas muy bien! Sigue así y mantén tu rendimiento.";
            } else if (X === 0) {
                message = "¡Ya tienes la nota mínima asegurada!";
            } else {
                message = "¡Felicidades! Ya superaste la nota mínima incluso sin el último parcial.";
            }
            
            resultMessage.textContent = message;
            resultSection.style.display = 'block';
            
            // Eliminar la clase de animación después de que termine
            setTimeout(() => {
                resultValue.classList.remove('pulse');
            }, 500);
        }
        
        // Función para reiniciar el formulario
        function resetForm() {
            // Restablecer checkboxes
            checkboxes.forEach(checkbox => {
                checkbox.checked = ['q1-check', 'p1-check', 'q2-check'].includes(checkbox.id);
            });
            
            // Restablecer valores de inputs
            document.getElementById('q1').value = 4.0;
            document.getElementById('p1').value = 3.8;
            document.getElementById('q2').value = 4.2;
            document.getElementById('p2').value = 0;
            document.getElementById('q3').value = 0;
            document.getElementById('p3').value = 0;
            document.getElementById('q4').value = 0;
            
            // Ocultar resultado
            resultSection.style.display = 'none';
            
            // Re-inicializar inputs
            initializeInputs();
        }
        
        // Event Listeners
        calculateBtn.addEventListener('click', calculateRequiredGrade);
        resetBtn.addEventListener('click', resetForm);
        
        // Permitir calcular con Enter en cualquier input
        inputs.forEach(input => {
            input.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    calculateRequiredGrade();
                }
            });
        });
        
        // Inicializar la aplicación
        document.addEventListener('DOMContentLoaded', function() {
            initializeInputs();
            
            // Simular clic en los menús del sidebar
            const menuItems = document.querySelectorAll('.menu-item');
            menuItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Remover clase active de todos los items
                    menuItems.forEach(i => i.classList.remove('active'));
                    // Agregar clase active al item clickeado
                    this.classList.add('active');
                    
                    // Mostrar alerta según el item seleccionado
                    const text = this.querySelector('span').textContent;
                    if (text !== 'Calculadora') {
                        alert(`Funcionalidad de "${text}" en desarrollo. Por ahora solo la calculadora está disponible.`);
                    }
                });
            });
        });
    </script>
</body>
</html>